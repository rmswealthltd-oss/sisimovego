{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/HeroSearch.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport { formatISO } from \"date-fns\";\r\n\r\nexport default function HeroSearch() {\r\n  const router = useRouter();\r\n\r\n  const [origin, setOrigin] = useState(\"\");\r\n  const [destination, setDestination] = useState(\"\");\r\n  const [date, setDate] = useState<string>(\r\n    formatISO(new Date(), { representation: \"date\" })\r\n  );\r\n\r\n  function submit(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n\r\n    // Ensure required fields\r\n    if (!origin.trim() || !destination.trim()) return;\r\n\r\n    const q = new URLSearchParams();\r\n    q.set(\"origin\", origin);\r\n    q.set(\"destination\", destination);\r\n    q.set(\"date\", date);\r\n\r\n    router.push(`/results?${q.toString()}`);\r\n  }\r\n\r\n  return (\r\n    <section className=\"bg-gradient-to-r from-sky-50 to-white rounded-xl p-6 shadow-sm space-y-4\">\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold\">Find your next trip</h2>\r\n        <p className=\"text-sm text-gray-600\">\r\n          Safe, fast and reliable rides across Africa.\r\n        </p>\r\n      </div>\r\n\r\n      <form\r\n        onSubmit={submit}\r\n        className=\"grid grid-cols-1 md:grid-cols-4 gap-3\"\r\n      >\r\n        {/* ORIGIN */}\r\n        <input\r\n          value={origin}\r\n          onChange={(e) => setOrigin(e.target.value)}\r\n          placeholder=\"Origin (city, landmark)\"\r\n          className=\"border p-3 rounded-lg text-sm w-full\"\r\n        />\r\n\r\n        {/* DESTINATION */}\r\n        <input\r\n          value={destination}\r\n          onChange={(e) => setDestination(e.target.value)}\r\n          placeholder=\"Destination\"\r\n          className=\"border p-3 rounded-lg text-sm w-full\"\r\n        />\r\n\r\n        {/* DATE */}\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n          className=\"border p-3 rounded-lg text-sm w-full\"\r\n        />\r\n\r\n        {/* BUTTON */}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-primary text-white px-4 py-3 rounded-lg w-full font-medium\"\r\n        >\r\n          Search trips\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AAMe,SAAS;;IACtB,MAAM,SAAS;IAEf,MAAM,CAAC,QAAQ,UAAU,GAAG,2UAAS;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,2UAAS;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,2UACtB,kNAAU,IAAI,QAAQ;QAAE,gBAAgB;IAAO;IAGjD,SAAS,OAAO,CAAmB;QACjC,GAAG;QAEH,yBAAyB;QACzB,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC,YAAY,IAAI,IAAI;QAE3C,MAAM,IAAI,IAAI;QACd,EAAE,GAAG,CAAC,UAAU;QAChB,EAAE,GAAG,CAAC,eAAe;QACrB,EAAE,GAAG,CAAC,QAAQ;QAEd,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,QAAQ,GAAG,CAAC;IACxC;IAEA,qBACE,yVAAC;QAAQ,WAAU;;0BACjB,yVAAC;;kCACC,yVAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,yVAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAKvC,yVAAC;gBACC,UAAU;gBACV,WAAU;;kCAGV,yVAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;kCAIZ,yVAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,aAAY;wBACZ,WAAU;;;;;;kCAIZ,yVAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,WAAU;;;;;;kCAIZ,yVAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;GAtEwB;;;;;KAAA"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/lib/money.ts"],"sourcesContent":["/**\r\n * money.ts\r\n * ----------\r\n * Lightweight currency formatter for the SisimoveGo frontend.\r\n * Supports:\r\n *   - KES (default)\r\n *   - USD\r\n *   - NGN\r\n *   - ZAR\r\n *   - UGX\r\n *   - TZS\r\n *\r\n * Automatically handles:\r\n *   - rounding\r\n *   - localization\r\n *   - fallback for server-side rendering\r\n */\r\n\r\nexport type CurrencyCode =\r\n  | \"KES\"\r\n  | \"USD\"\r\n  | \"NGN\"\r\n  | \"ZAR\"\r\n  | \"UGX\"\r\n  | \"TZS\";\r\n\r\nconst DEFAULT_CURRENCY: CurrencyCode = \"KES\";\r\n\r\n/**\r\n * Format a price into readable currency\r\n */\r\nexport function money(\r\n  amount: number | string | null | undefined,\r\n  currency: CurrencyCode = DEFAULT_CURRENCY\r\n): string {\r\n  if (amount === null || amount === undefined) return \"—\";\r\n\r\n  const value = typeof amount === \"string\" ? parseFloat(amount) : amount;\r\n\r\n  if (isNaN(value)) return \"—\";\r\n\r\n  try {\r\n    return new Intl.NumberFormat(\"en-KE\", {\r\n      style: \"currency\",\r\n      currency,\r\n      minimumFractionDigits: 0\r\n    }).format(value);\r\n  } catch (err) {\r\n    // Fallback for unsupported currencies or SSR\r\n    return `${currency} ${value.toFixed(0)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * Convert raw M-PESA / API integers into money\r\n */\r\nexport function moneyFromCents(\r\n  cents: number,\r\n  currency: CurrencyCode = DEFAULT_CURRENCY\r\n): string {\r\n  return money(cents / 100, currency);\r\n}\r\n\r\n/**\r\n * Strip formatting → number (useful before sending to API)\r\n */\r\nexport function parseMoney(str: string): number {\r\n  if (!str) return 0;\r\n\r\n  // Remove commas, spaces, currency symbols\r\n  const cleaned = str.replace(/[^\\d.-]/g, \"\");\r\n\r\n  return parseFloat(cleaned) || 0;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;CAgBC;;;;;AAUD,MAAM,mBAAiC;AAKhC,SAAS,MACd,MAA0C,EAC1C,WAAyB,gBAAgB;IAEzC,IAAI,WAAW,QAAQ,WAAW,WAAW,OAAO;IAEpD,MAAM,QAAQ,OAAO,WAAW,WAAW,WAAW,UAAU;IAEhE,IAAI,MAAM,QAAQ,OAAO;IAEzB,IAAI;QACF,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP;YACA,uBAAuB;QACzB,GAAG,MAAM,CAAC;IACZ,EAAE,OAAO,KAAK;QACZ,6CAA6C;QAC7C,OAAO,CAAC,EAAE,SAAS,CAAC,EAAE,MAAM,OAAO,CAAC,GAAG,CAAC;IAC1C;AACF;AAKO,SAAS,eACd,KAAa,EACb,WAAyB,gBAAgB;IAEzC,OAAO,MAAM,QAAQ,KAAK;AAC5B;AAKO,SAAS,WAAW,GAAW;IACpC,IAAI,CAAC,KAAK,OAAO;IAEjB,0CAA0C;IAC1C,MAAM,UAAU,IAAI,OAAO,CAAC,YAAY;IAExC,OAAO,WAAW,YAAY;AAChC"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/TripCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { money } from \"@/lib/money\";\r\nimport { format } from \"date-fns\";\r\nimport { MapPinIcon, ClockIcon, UserIcon } from \"@heroicons/react/24/solid\";\r\nimport { trip } from \"@/utils/trip\";\r\n\r\nexport default function TripCard({ trip }: { trip: Trip }) {\r\n  const departure = format(new Date(trip.departureTime), \"HH:mm\");\r\n  const arrival = format(new Date(trip.arrivalTime), \"HH:mm\");\r\n\r\n  return (\r\n    <Link\r\n      href={`/trip/${trip.id}`}\r\n      className=\"block bg-white dark:bg-gray-900 rounded-xl shadow p-4 border dark:border-gray-700 hover:shadow-lg transition\"\r\n    >\r\n      {/* ROUTE */}\r\n      <div className=\"text-xl font-semibold mb-1\">\r\n        {trip.fromCity} → {trip.toCity}\r\n      </div>\r\n\r\n      {/* DEPARTURE ROW */}\r\n      <div className=\"flex items-center text-gray-600 dark:text-gray-300 gap-2\">\r\n        <ClockIcon className=\"w-4 h-4\" />\r\n        <span>{departure} → {arrival}</span>\r\n      </div>\r\n\r\n      {/* DRIVER */}\r\n      <div className=\"flex items-center text-gray-600 dark:text-gray-300 gap-2 mt-1\">\r\n        <UserIcon className=\"w-4 h-4\" />\r\n        <span>{trip.driverName}</span>\r\n      </div>\r\n\r\n      {/* PRICE */}\r\n      <div className=\"mt-4 text-lg font-bold text-blue-600 dark:text-blue-400\">\r\n        {money(trip.price)}  {/* FIXED */}\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;AASe,SAAS,SAAS,EAAE,IAAI,EAAkB;IACvD,MAAM,YAAY,4NAAO,IAAI,KAAK,KAAK,aAAa,GAAG;IACvD,MAAM,UAAU,4NAAO,IAAI,KAAK,KAAK,WAAW,GAAG;IAEnD,qBACE;QACE,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QACxB,WAAU;;0BAGV,yVAAC;gBAAI,WAAU;;oBACZ,KAAK,QAAQ;oBAAC;oBAAI,KAAK,MAAM;;;;;;;0BAIhC,yVAAC;gBAAI,WAAU;;kCACb;wBAAW,WAAU;;;;;;kCACrB,yVAAC;;4BAAM;4BAAU;4BAAI;;;;;;;;;;;;;0BAIvB,yVAAC;gBAAI,WAAU;;kCACb;wBAAU,WAAU;;;;;;kCACpB,yVAAC;kCAAM,KAAK,UAAU;;;;;;;;;;;;0BAIxB,yVAAC;gBAAI,WAAU;;oBACZ,+IAAM,KAAK,KAAK;oBAAE;;;;;;;;;;;;;AAI3B;KAhCwB"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}