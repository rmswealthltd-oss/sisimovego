(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1033:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(117),i=s(2994),a=s(4898),n=s.n(a),l=s(6083),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9700)),"C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1255)),"C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,8658,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\profile\\page.tsx"],p="/profile/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},224:(e,t,s)=>{Promise.resolve().then(s.bind(s,1482)),Promise.resolve().then(s.t.bind(s,7045,23))},1482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(2281);let i=(0,s(9066).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function a({rating:e=0}){let t=Math.round(e);return r.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(e=>r.jsx(i,{size:16,className:e<=t?"text-yellow-500 fill-yellow-500":"text-gray-300"},e))})}function n({driver:e}){return e?(0,r.jsxs)("div",{className:"flex items-center gap-4 bg-white p-4 rounded-xl shadow-sm",children:[r.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gray-100 shadow-sm flex-shrink-0",children:r.jsx("img",{src:e.avatarUrl??"/icons/driver.png",alt:e.name||"Driver",className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-800",children:e.name??"Driver"}),e.vehicle&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.vehicle.brand," • ",e.vehicle.plate]}),(0,r.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[r.jsx(a,{rating:e.rating??4.6}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.ratingCount??18,")"]})]})]}),e.phone&&r.jsx("div",{className:"text-sm text-gray-600 text-right",children:e.phone})]}):null}},9700:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(7469),i=s(6458),a=s(5912),n=s(2255),l=s(437),o=s(9869);let c=(0,l.Z)({title:"Profile",description:"Manage your personal information, trips, and settings."});async function d(){let e=await (0,i.R)(a.b.AUTH_ME),t=e?.user??e??null;return t?(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"My profile"}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[r.jsx("div",{className:"font-medium text-lg",children:t.name??"Unnamed User"}),t.email&&r.jsx("div",{className:"text-sm text-gray-500",children:t.email}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4",children:[r.jsx(n.default,{href:"/profile/edit",className:"text-primary underline",children:"Edit Profile"}),r.jsx(n.default,{href:"/profile/paymentMethods",className:"text-primary underline",children:"Payment Methods"}),r.jsx(n.default,{href:"/profile/trips",className:"text-primary underline",children:"My Trips"})]})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[r.jsx("h2",{className:"font-semibold mb-2",children:"Recent driver"}),t.lastDriver?r.jsx(o.ZP,{driver:t.lastDriver}):r.jsx("div",{className:"text-sm text-gray-500",children:"No recent driver"})]})]}):(0,r.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[r.jsx("h1",{className:"text-2xl font-semibold",children:"You're not signed in"}),(0,r.jsxs)("p",{className:"mt-2 text-gray-600",children:["Please"," ",r.jsx(n.default,{href:"/auth/login",className:"text-primary underline",children:"sign in"})," ","to view your profile."]})]})}},9869:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>n});let r=(0,s(3610).createProxy)(String.raw`C:\Users\HP\sisimovego\apps\web\src\components\DriverCard.tsx`),{__esModule:i,$$typeof:a}=r,n=r.default},5912:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});let r=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:3001/api",i={AUTH_LOGIN:`${r}/auth/login`,AUTH_ME:`${r}/auth/me`,AUTH_REFRESH:`${r}/auth/refresh`,TRIPS_SEARCH:`${r}/trips/search`,TRIP_GET:e=>`${r}/trips/${encodeURIComponent(e)}`,BOOKINGS_CREATE:`${r}/bookings/create`,BOOKINGS_MY:`${r}/bookings/mine`,PAYMENTS_CHECKOUT:`${r}/payments/checkout`,MPESA_STATUS:e=>`${r}/payments/mpesa/status?checkoutId=${encodeURIComponent(e)}`,PUSH_SUBSCRIBE:`${r}/push/subscribe`,PUSH_LIST:`${r}/push/subscriptions`}},437:(e,t,s)=>{"use strict";function r({title:e,description:t,url:s,image:r}){let i="SisiMove — Africa-first ridesharing";return{title:e?`${e} | SisiMove`:i,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",metadataBase:new URL("https://sisimove.com"),openGraph:{title:e?`${e} | SisiMove`:i,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",url:s??"/",siteName:i,images:[{url:r??"/icons/icon-512.png",width:1200,height:630,alt:"SisiMove Preview"}],type:"website"},twitter:{card:"summary_large_image",title:e?`${e} | SisiMove`:i,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",images:[r??"/icons/icon-512.png"]}}}s.d(t,{Z:()=>r})},6458:(e,t,s)=>{"use strict";s.d(t,{R:()=>l});var r=s(5833),i=s(5912);let a="sisimove_access";async function n(e,t={}){let s=(0,r.cookies)(),n=s.get(a)?.value??null,l=new Headers(t.headers??{});n&&l.set("authorization",`Bearer ${n}`);let o={credentials:"include",...t,headers:l},c=await fetch(e,o);if(401===c.status){let t=s.get("sisimove_refresh")?.value??null;if(t)try{if((await fetch(i.b.AUTH_REFRESH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t}),credentials:"include"})).ok){let t=r.cookies().get(a)?.value??null;if(t)return l.set("authorization",`Bearer ${t}`),await fetch(e,{...o,headers:l})}}catch(e){}}return c}async function l(e){let t=e.startsWith("http")?e:`${e}`,s=await n(t,{method:"GET"}),r=await s.text();try{return JSON.parse(r)}catch{return r}}},2255:(e,t,s)=>{"use strict";s.d(t,{default:()=>i.a});var r=s(7528),i=s.n(r)},7528:(e,t,s)=>{"use strict";let{createProxy:r}=s(3610);e.exports=r("C:\\Users\\HP\\sisimovego\\node_modules\\.pnpm\\next@14.1.0_@babel+core@7.28.5_react-dom@18.3.0_react@18.3.0__react@18.3.0\\node_modules\\next\\dist\\client\\link.js")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[875,833,108],()=>s(1033));module.exports=r})();