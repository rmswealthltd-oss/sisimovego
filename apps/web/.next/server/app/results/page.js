(()=>{var e={};e.id=87,e.ids=[87],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3320:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(117),a=r(2994),i=r(4898),n=r.n(i),o=r(6083),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,142)),"C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\results\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1255)),"C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8658,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\results\\page.tsx"],u="/results/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/results/page",pathname:"/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7021:(e,t,r)=>{Promise.resolve().then(r.bind(r,4603))},4603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(2281),a=r(2493),i=r(7677);let n=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}),o=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))});function l(e){return function(e,t,r="—"){let s=function(e){if(!e)return null;try{let t=new Date(e);if(isNaN(t.getTime()))return null;return t}catch{return null}}(e);if(!s)return r;try{let e={HH:String(s.getHours()).padStart(2,"0"),mm:String(s.getMinutes()).padStart(2,"0"),dd:String(s.getDate()).padStart(2,"0"),MMM:s.toLocaleString("en-US",{month:"short"}),yyyy:s.getFullYear()};return t.replace("dd",e.dd).replace("MMM",e.MMM).replace("yyyy",String(e.yyyy)).replace("HH",e.HH).replace("mm",e.mm)}catch{return r}}(e,"HH:mm","—")}function c({trip:e}){let t=l(e.departureAt),r=e.arrivalAt?l(e.arrivalAt):null;return(0,s.jsxs)(i.default,{href:`/trip/${e.id}`,className:"block bg-white dark:bg-gray-900 rounded-xl shadow p-4 border dark:border-gray-700 hover:shadow-lg transition",children:[s.jsx("div",{className:"text-xl font-semibold mb-1",children:function(e,t){let r=e?.trim()||"Unknown",s=t?.trim()||"Unknown";return`${r} → ${s}`}(e.origin,e.destination)}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-300 gap-2",children:[s.jsx(n,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[t,r&&(0,s.jsxs)(s.Fragment,{children:[" → ",r]})]})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-300 gap-2 mt-1",children:[s.jsx(o,{className:"w-4 h-4"}),s.jsx("span",{children:e.driverName||"Driver"})]}),s.jsx("div",{className:"mt-4 text-lg font-bold text-blue-600 dark:text-blue-400",children:function(e,t="KES"){return function(e,t="KES"){if(null==e)return"—";let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return"—";try{return new Intl.NumberFormat("en-KE",{style:"currency",currency:t,minimumFractionDigits:0}).format(r)}catch(e){return`${t} ${r.toFixed(0)}`}}(e/100,t)}(e.priceCents)})]})}},142:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>d});var s=r(7469);let a=(0,r(3610).createProxy)(String.raw`C:\Users\HP\sisimovego\apps\web\src\components\TripCard.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default;var l=r(437),c=r(5912);let d=(0,l.Z)({title:"Search results",description:"Available trips"});function u(e){return{id:e.id,origin:e.origin,destination:e.destination,departureAt:e.departureAt??e.departure_time??null,arrivalAt:e.arrivalAt??e.arrival_time??null,driverName:e.driverName??e.driver??e.driver_full_name??e.operatorName??"Unknown",priceCents:e.priceCents??e.fareCents??e.pricePerSeat??e.fare??0}}async function p(e,t,r){let s=new URLSearchParams;e&&s.set("origin",e),t&&s.set("destination",t),r&&s.set("date",r);let a=`${c.b.TRIPS_SEARCH}?${s.toString()}`,i=await fetch(a,{next:{revalidate:60}});if(!i.ok)return[];let n=await i.json(),o=n.trips??n;return Array.isArray(o)?o.map(u):[]}async function m({searchParams:e}){let t=e?.origin??"",r=e?.destination??"",a=e?.date??"",i=[];try{i=await p(t,r,a)}catch(e){console.error("Failed fetching trips",e),i=[]}return(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,s.jsxs)("header",{className:"mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Search results"}),s.jsx("p",{className:"text-gray-600 mt-1",children:i.length?`${i.length} result(s)`:"No trips found"})]}),s.jsx("main",{children:0===i.length?s.jsx("div",{className:"text-gray-600",children:"No trips. Try adjusting your search."}):s.jsx("div",{className:"space-y-4",children:i.map(e=>s.jsx(o,{trip:e},e.id))})})]})}},5912:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});let s=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:3001/api",a={AUTH_LOGIN:`${s}/auth/login`,AUTH_ME:`${s}/auth/me`,AUTH_REFRESH:`${s}/auth/refresh`,TRIPS_SEARCH:`${s}/trips/search`,TRIP_GET:e=>`${s}/trips/${encodeURIComponent(e)}`,BOOKINGS_CREATE:`${s}/bookings/create`,BOOKINGS_MY:`${s}/bookings/mine`,PAYMENTS_CHECKOUT:`${s}/payments/checkout`,MPESA_STATUS:e=>`${s}/payments/mpesa/status?checkoutId=${encodeURIComponent(e)}`,PUSH_SUBSCRIBE:`${s}/push/subscribe`,PUSH_LIST:`${s}/push/subscriptions`}},437:(e,t,r)=>{"use strict";function s({title:e,description:t,url:r,image:s}){let a="SisiMove — Africa-first ridesharing";return{title:e?`${e} | SisiMove`:a,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",metadataBase:new URL("https://sisimove.com"),openGraph:{title:e?`${e} | SisiMove`:a,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",url:r??"/",siteName:a,images:[{url:s??"/icons/icon-512.png",width:1200,height:630,alt:"SisiMove Preview"}],type:"website"},twitter:{card:"summary_large_image",title:e?`${e} | SisiMove`:a,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",images:[s??"/icons/icon-512.png"]}}}r.d(t,{Z:()=>s})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[875,108],()=>r(3320));module.exports=s})();