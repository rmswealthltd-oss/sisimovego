(()=>{var e={};e.id=87,e.ids=[87],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3320:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(117),i=r(2994),a=r(4898),n=r.n(a),o=r(6083),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,142)),"C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\results\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1255)),"C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8658,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\HP\\sisimovego\\apps\\web\\src\\app\\results\\page.tsx"],u="/results/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/results/page",pathname:"/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7021:(e,t,r)=>{Promise.resolve().then(r.bind(r,9051))},9051:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(2281),i=r(7677),a=r(8603);function n(e){return function(e,t,r="—"){let s=function(e){if(!e)return null;try{let t=new Date(e);if(isNaN(t.getTime()))return null;return t}catch{return null}}(e);if(!s)return r;try{let e={HH:String(s.getHours()).padStart(2,"0"),mm:String(s.getMinutes()).padStart(2,"0"),dd:String(s.getDate()).padStart(2,"0"),MMM:s.toLocaleString("en-US",{month:"short"}),yyyy:s.getFullYear()};return t.replace("dd",e.dd).replace("MMM",e.MMM).replace("yyyy",String(e.yyyy)).replace("HH",e.HH).replace("mm",e.mm)}catch{return r}}(e,"HH:mm","—")}function o({trip:e}){let t=n(e.departureAt),r=e.arrivalAt?n(e.arrivalAt):null;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-2xl p-5 shadow-sm hover:shadow-md transition",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:function(e,t){let r=e?.trim()||"Unknown",s=t?.trim()||"Unknown";return`${r} → ${s}`}(e.origin,e.destination)}),s.jsx("span",{className:"text-sm bg-blue-600 text-white px-3 py-1 rounded-xl",children:function(e,t="KES"){return function(e,t="KES"){if(null==e)return"—";let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return"—";try{return new Intl.NumberFormat("en-KE",{style:"currency",currency:t,minimumFractionDigits:0}).format(r)}catch(e){return`${t} ${r.toFixed(0)}`}}(e/100,t)}(e.priceCents)})]}),(0,s.jsxs)("div",{className:"mt-4 space-y-2 text-gray-700 dark:text-gray-300",children:[(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[s.jsx(a.vlc,{}),t,r&&(0,s.jsxs)(s.Fragment,{children:[" → ",r]})]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[s.jsx(a.WY8,{}),"Seats: ",e.availableSeats??"N/A"]}),(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[s.jsx(a.i63,{}),"Driver: ",e.driverName||"Driver"]})]}),s.jsx("div",{className:"mt-5 flex justify-end",children:(0,s.jsxs)(i.default,{href:`/trip/${e.id}`,className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium hover:underline",children:["View Trip ",s.jsx(a.Rgz,{})]})})]})}},142:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>d});var s=r(7469);let i=(0,r(3610).createProxy)(String.raw`C:\Users\HP\sisimovego\apps\web\src\components\TripCard.tsx`),{__esModule:a,$$typeof:n}=i,o=i.default;var l=r(437),c=r(5912);let d=(0,l.Z)({title:"Search results",description:"Available trips"});function u(e){return{id:e.id,origin:e.origin,destination:e.destination,departureAt:e.departureAt??e.departure_time??null,arrivalAt:e.arrivalAt??e.arrival_time??null,driverName:e.driverName??e.driver??e.driver_full_name??e.operatorName??"Unknown",priceCents:e.priceCents??e.fareCents??e.pricePerSeat??e.fare??0}}async function p(e,t,r){let s=new URLSearchParams;e&&s.set("origin",e),t&&s.set("destination",t),r&&s.set("date",r);let i=`${c.b.TRIPS_SEARCH}?${s.toString()}`,a=await fetch(i,{next:{revalidate:60}});if(!a.ok)return[];let n=await a.json(),o=n.trips??n;return Array.isArray(o)?o.map(u):[]}async function m({searchParams:e}){let t=e?.origin??"",r=e?.destination??"",i=e?.date??"",a=[];try{a=await p(t,r,i)}catch(e){console.error("Failed fetching trips",e),a=[]}return(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,s.jsxs)("header",{className:"mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Search results"}),s.jsx("p",{className:"text-gray-600 mt-1",children:a.length?`${a.length} result(s)`:"No trips found"})]}),s.jsx("main",{children:0===a.length?s.jsx("div",{className:"text-gray-600",children:"No trips. Try adjusting your search."}):s.jsx("div",{className:"space-y-4",children:a.map(e=>s.jsx(o,{trip:e},e.id))})})]})}},5912:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});let s=process.env.NEXT_PUBLIC_API_BASE||"http://localhost:3001/api",i={AUTH_LOGIN:`${s}/auth/login`,AUTH_ME:`${s}/auth/me`,AUTH_REFRESH:`${s}/auth/refresh`,TRIPS_SEARCH:`${s}/trips/search`,TRIP_GET:e=>`${s}/trips/${encodeURIComponent(e)}`,BOOKINGS_CREATE:`${s}/bookings/create`,BOOKINGS_MY:`${s}/bookings/mine`,PAYMENTS_CHECKOUT:`${s}/payments/checkout`,MPESA_STATUS:e=>`${s}/payments/mpesa/status?checkoutId=${encodeURIComponent(e)}`,PUSH_SUBSCRIBE:`${s}/push/subscribe`,PUSH_LIST:`${s}/push/subscriptions`}},437:(e,t,r)=>{"use strict";function s({title:e,description:t,url:r,image:s}){let i="SisiMove — Africa-first ridesharing";return{title:e?`${e} | SisiMove`:i,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",metadataBase:new URL("https://sisimove.com"),openGraph:{title:e?`${e} | SisiMove`:i,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",url:r??"/",siteName:i,images:[{url:s??"/icons/icon-512.png",width:1200,height:630,alt:"SisiMove Preview"}],type:"website"},twitter:{card:"summary_large_image",title:e?`${e} | SisiMove`:i,description:t??"Book intercity and intra-city trips across Africa. Fast, safe, affordable.",images:[s??"/icons/icon-512.png"]}}}r.d(t,{Z:()=>s})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[49,108],()=>r(3320));module.exports=s})();